<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>K-Chords | è¿½è¹¤æ¸…å–®</title>
  <link rel="stylesheet" href="css/wishlist.css" />
</head>
<body>
  <header>
    <div class="header-inner">
      <h1><a href="index.html">K-Chords | K-å’Œå¼¦</a></h1>
      <div class="nav-container">
        <div class="search-wrapper">
          <input type="text" id="searchInput" class="search-bar" placeholder="æœå°‹å•†å“ã€åœ˜åã€å•†å“é¡å‹..." />
          <div id="searchResults" class="search-results"></div>
        </div>
        <nav>
          <ul>
            <li><a href="cart.html">è³¼ç‰©è»Š</a></li>
            <li><a href="loging.html">æœƒå“¡è¨»å†Š/ç™»å…¥</a></li>
            <li><a href="member.html">æœƒå“¡è³‡æ–™</a></li>
          </ul>
        </nav>
      </div>
    </div>
  </header>

  <nav class="member-nav">
    <ul class="member-nav-ul">
      <li><a href="member.html">å€‹äººè³‡è¨Š</a></li>
      <li><a href="points.html">æœƒå“¡é»æ•¸</a></li>
      <li><a href="oldorders.html">è¨‚å–®</a></li>
      <li class="active"><a href="wishlist.html">è¿½è¹¤æ¸…å–®</a></li>
    </ul>
  </nav>

  <div class="profile-container">
    <div class="info-section">
      <h3><span class="icon">â¤ï¸</span> æˆ‘çš„è¿½è¹¤æ¸…å–®</h3>
      <p style="color: #888; margin-bottom: 25px;">é€™è£¡æ”¶è—äº†æ‚¨æ„Ÿèˆˆè¶£çš„ç²¾é¸å•†å“</p>

      <div id="wishlistGrid" class="wishlist-grid">
        </div>

      <div class="wishlist-actions" style="margin-top: 40px; text-align: center;">
        <a href="allproduct.html?category=å…¨éƒ¨å•†å“" class="edit-btn" style="text-decoration: none;">ç¹¼çºŒè³¼ç‰©</a>
      </div>
    </div>
  </div>

  <footer class="site-footer">
    <div class="footer-box">
      <div class="footer-col">
        <h3>K-Chords | K-å’Œå¼¦</h3>
        <a href="https://www.instagram.com/uyhnz/" target="_blank">IG:K.Chords_official</a>
        <p>å•†å“å•é¡Œä¹Ÿå¯ä»¥ä¾†é€™è£¡è©¢å•</p>
        <a href="aboutus.html">é—œæ–¼æˆ‘å€‘</a>
      </div>
      <div class="footer-col">
        <h3>SERVICE</h3>
        <a href="afterservice.html">é€€æ›è²¨æœå‹™ After-sales service</a>
        <a href="qa.html">å¸¸è¦‹å•é¡Œ Q&A</a>
      </div>
      <div class="footer-col">
        <h3>COMPANY</h3>
        <a href="contact.html">è¯çµ¡æˆ‘å€‘</a>
        <a href="cooperate.html">åˆä½œæ´½è«‡</a>
        <a href="privacy.html">éš±ç§æ”¿ç­–</a>
        <a href="anti-fraud.html">åè©é¨™å…¬å‘Š</a>
        <p class="footer-time">å®¢æœæ™‚é–“ Mon.â€“Fri. 10:00â€“18:00 (ä¸å«ä¾‹å‡æ—¥)</p>
      </div>
    </div>
    <div class="footer-bottom">
      Â© 2026 K-Chords | K-å’Œå¼¦ All rights reserved.
    </div>
  </footer>

  <script>
    function renderWishlist() {
      const wishlistGrid = document.getElementById('wishlistGrid');
      const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];

      if (wishlist.length === 0) {
        wishlistGrid.innerHTML = `
          <div class="empty-history" style="border: none; padding: 40px 0;">
            <div class="empty-icon">ğŸ’”</div>
            <p>ç›®å‰æ¸…å–®ä¸­æ²’æœ‰å•†å“</p>
            <p class="sub-text">å»å°‹æ‰¾å¿ƒå„€çš„å•†å“å§ï¼</p>
          </div>`;
        return;
      }

      wishlistGrid.innerHTML = wishlist.map(item => `
        <div class="wishlist-card">
          <div class="product-img">
            <img src="${item.image}" alt="${item.name}">
            <button class="remove-btn" onclick="removeFromWishlist(${item.id})">Ã—</button>
          </div>
          <div class="product-info">
            <h3>${item.name}</h3>
            <p class="price">$${item.price.toLocaleString()}</p>
            <div class="card-btns">
              <a href="product.html?id=${item.id}" class="view-btn">æŸ¥çœ‹è©³æƒ…</a>
              <button class="cart-btn" onclick="addToCart(${item.id}, '${item.name}', ${item.price}, '${item.image}')">åŠ å…¥è³¼ç‰©è»Š</button>
            </div>
          </div>
        </div>
      `).join('');
    }

    window.removeFromWishlist = function(id) {
      let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
      wishlist = wishlist.filter(item => item.id !== id);
      localStorage.setItem('wishlist', JSON.stringify(wishlist));
      renderWishlist();
    };

    window.addToCart = function(id, name, price, image) {
      const cart = JSON.parse(localStorage.getItem("cart")) || [];
      const existing = cart.find(item => item.id === id);
      if (existing) {
        existing.quantity += 1;
      } else {
        cart.push({ id, name, price, image, quantity: 1 });
      }
      localStorage.setItem("cart", JSON.stringify(cart));
      alert("å·²åŠ å…¥è³¼ç‰©è»Šï¼");
    };

    document.addEventListener('DOMContentLoaded', renderWishlist);
  </script>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // å¾ localStorage è®€å–é»æ•¸ (é è¨­ 0)
        const savedPoints = localStorage.getItem('userPoints') || 0;
        document.getElementById('user-points').textContent = savedPoints;
    });
  </script>
  <script>
const products = [
  { id: 6, name: "CORTIS 2026 å¹´æ›†", keywords: ["cortis","å¹´æ›†","å®˜æ–¹å°ˆè¼¯"] },
  { id: 7, name: "NMIXX 2026 å¹´æ›†", keywords: ["nmixx","å¹´æ›†"] },
  { id: 8, name: "TXT 2026 å¹´æ›†", keywords: ["txt","å¹´æ›†"] },
  { id: 9, name: "IZNA 2026 å¹´æ›†", keywords: ["izna","å¹´æ›†"] },
  { id: 10, name: "KISS OF LIFE 2026 å¹´æ›†", keywords: ["kiss","kiof","å¹´æ›†"] },
  { id: 14, name: "å®˜æ–¹å‘¨é‚Šå¥—çµ„", keywords: ["å‘¨é‚Š","é…ä»¶"] }
];

const input = document.getElementById("searchInput");
const resultBox = document.getElementById("searchResults");

input.addEventListener("input", function () {
  const keyword = input.value.toLowerCase().trim();
  resultBox.innerHTML = "";
  if (!keyword) {
    resultBox.style.display = "none";
    return;
  }

  const matches = products.filter(p =>
    p.name.toLowerCase().includes(keyword) ||
    p.keywords.some(k => k.includes(keyword))
  );

  if (matches.length === 0) {
    resultBox.innerHTML = `<div>æ‰¾ä¸åˆ°ç›¸é—œå•†å“</div>`;
  } else {
    matches.forEach(p => {
      const div = document.createElement("div");
      div.textContent = p.name;
      div.onclick = () => {
        window.location.href = `product.html?id=${p.id}`;
      };
      resultBox.appendChild(div);
    });
  }

  resultBox.style.display = "block";
});

document.addEventListener("click", function (e) {
  if (!e.target.closest(".search-wrapper")) {
    resultBox.style.display = "none";
  }
});
</script>
</body>
</html>