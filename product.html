<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>K-Chords | K-å’Œå¼¦</title>
  <link rel="stylesheet" href="css/product.css" />
</head>
<body>
  <header>
    <h1>
      <a href="index.html">K-Chords | K-å’Œå¼¦</a>
    </h1>
<div class="nav-container">
  <div class="search-wrapper">
    <input type="text" id="searchInput" class="search-bar" placeholder="æœå°‹å•†å“ã€åœ˜åã€å•†å“é¡å‹..." />
    <div id="searchResults" class="search-results"></div>
  </div>
</div>
    <nav>
      <ul>
        <li><a href="cart.html">è³¼ç‰©è»Š</a></li>
        <li><a href="loging.html">æœƒå“¡è¨»å†Š/ç™»å…¥</a></li>
        <li><a href="member.html">æœƒå“¡è³‡æ–™</a></li>
      </ul>
    </nav>
  </header>

  <div class="container" id="productContainer"></div>

  <div class="container review-display-section">
  <div class="review-summary">
    <h3>å•†å“è©•åƒ¹</h3>
    <div class="average-rating">
      <span id="avg-score">0.0</span>
      <div class="avg-stars" id="avg-stars">â­â­â­â­â­</div>
      <p id="total-reviews-count">å…± 0 å‰‡è©•è«–</p>
    </div>
  </div>
  
  <div class="review-list" id="display-review-list">
    <p style="color:#888; text-align:center; padding: 20px;">æš«ç„¡è©•åƒ¹ç´€éŒ„</p>
  </div>
</div>

  <script>
    const products = [
       {
         id: 1,
         name: "CORTIS - THE 1ST EP [COLOR OUTSIDE THE LINES]",
         image: "image/photo1.jpg",
         price: 530,
         description: "ç”¢å“å…§å®¹ï¼šPH VER\nç‰ˆæœ¬ï¼š3ç‰ˆï¼ˆSCENE 1 / SCENE 2 / SCENE 3ï¼‰\nå¯«çœŸæ›¸ï¼š120é \nSTRINGï¼š1ç¨®\nFILM SHEETï¼š3ç¨®\nCDï¼š1å¼µ\nå°å¡å°å¥—ï¼š1ç¨®\nå°å¡ï¼š5ç¨®éš¨æ©Ÿ1å¼µ"
       },
       {
          id: 2,
          name: "RIIZE - 2ND SINGLE [FAME]  å–®æ›²äºŒè¼¯",
          image: "image/photo2.jpg",
          price: 530,
          description: "ç”¢å“å…§å®¹ï¼šPHOTOBOOK VER\nå¯«çœŸæ›¸ï¼š96é ï¼ˆ220mm x 297mmï¼‰\nCDï¼š1å¼µ\nCDå°å¥—ï¼š1ç¨®\nè²¼ç´™ï¼š1ç¨®ï¼ˆ120mm x 148mmï¼‰\næ›¸ç±¤ï¼š6ç¨®éš¨æ©Ÿ2\nå°å¡ï¼š6ç¨®éš¨æ©Ÿ1ï¼ˆ55mm x 85mmï¼‰"
        },
        {
          id: 3,
          name: "YEONJUN(TXT) NO LABELS: PART 01",
          image: "image/photo3.jpg",
          price: 550,
          description: "Outboxï¼šï¼ˆW145 Ã— H145 Ã— D40mmï¼‰\nFigureï¼šï¼ˆW40 Ã— H102mmï¼‰\nPhoto Card (Selfie)ï¼š2ç¨®ï¼ˆW55 Ã— H85mmï¼‰\nPhoto Card (Official Photo)ï¼š2ç¨®ï¼ˆW55 Ã— H85mmï¼‰\nCD trayï¼šï¼ˆW144 x H144mmï¼‰\nCDRï¼šï¼ˆW120 x H120mmï¼‰"
        },
        {
          id: 4,
          name: "IVE - THE 4TH EP [IVE SECRET]",
          image: "image/photo4.jpg",
          price: 520,
          description: "ç”¢å“å…§å®¹ï¼šPHOTOBOOK VER\nOUT PACKAGEï¼š180mm x 240mm\nå¯«çœŸæ›¸ï¼š80é ï¼ˆ148ï½ï½ x 210mmï¼‰\nCDï¼š1å¼µ\nç›¸ç‰‡ï¼š6ç¨®éš¨æ©Ÿ1ï¼ˆ88ï½ï½ x 107mmï¼‰\nå°å¡ï¼š6ç¨®éš¨æ©Ÿ1ï¼ˆ55ï½ï½ x 85mmï¼‰"
        },
        {
          id: 5,
          name: "JENNIE (BLACKPINK) - [RUBY] (LP) é»‘è† å”±ç‰‡",
          image: "image/photo5.jpg",
          price: 1505,
          description: "é»‘è† å”±ç‰‡ï¼š1å¼µ\nè¿·ä½ æµ·å ±ï¼š1å¼µï¼ˆ120mm x 120mmï¼‰\næ˜ä¿¡ç‰‡ï¼š1å¼µ\nå°å¡ï¼š1å¼µ"
        },
        {
          id: 6,
          name: "CORTIS - 2026 SEASON'S GREETINGS å¹´æ›†çµ„åˆ",
          image: "image/photo6.jpg",
          price: 1460,
          description: "BOXï¼š153mm x 268mm x 85mm\nå¯«çœŸæ›¸ï¼š100é ï¼ˆ140mm x 225mmï¼‰\næ¡Œæ›†BOXï¼š1ç¨®ï¼ˆ150mm x 150mm x 35mmï¼‰\næ¡Œæ›†ï¼š14å€‹æœˆï¼ˆ140mm x 140mmï¼‰\nCORTIS'S MINI ROOM STICKER BOARDï¼š1ç¨®ï¼ˆ140mm x 225mmï¼‰\nè²¼ç´™ï¼š5å¼µ/1çµ„ï¼ˆ100mm x 100mmï¼‰\næ—¥ç¨‹æœ¬ï¼š32é ï¼ˆ140mm x 200mmï¼‰\näº”æ ¼å¡çµ„ï¼š5å¼µ/1çµ„ï¼ˆ65mm x 140mmï¼‰\nå°å¡çµ„ï¼š10å¼µ/1çµ„ï¼ˆ55mm x 85mmï¼‰\nINSTANT PHOTO BOXï¼š1ç¨®ï¼ˆ80mm x 150mm x 35mmï¼‰\nINSTANT PHOTOï¼š9å¼µ/1çµ„ï¼ˆ55mm x 85mmï¼‰\nDIGITAL CODE PAPERï¼š1ç¨®ï¼ˆ50mm x 75mmï¼‰\nDIGITAL CODEï¼š1ç¨®/ç´„41åˆ†é˜ï¼ˆ75mm x 25mm x 10mmï¼‰\nç•«è³ªï¼š[144P]ã€[270P]ã€[360P]ã€[480P]ã€[720P]ã€[1080P]\nèªè¨€ï¼š[éŸ“æ–‡]ã€[è‹±æ–‡]ã€[æ—¥èª]ã€[ä¸­æ–‡]"
        },
        {
          id: 7,
          name: "NMIXX - 2026 SEASON'S GREETINGS å¹´æ›†çµ„åˆ",
          image: "image/photo7.jpg",
          price: 1380,
          description: "OUT BOXï¼š1ç¨®ï¼ˆ27cm x 20cm x 5cmï¼‰\næ¡Œæ›†ï¼š1æœ¬ï¼ˆ14.8cm x 22cmï¼‰\næ—¥ç¨‹æœ¬ï¼š1æœ¬ï¼ˆ13.5cm x 17cmï¼‰\nè¿·ä½ æµ·å ±ï¼š6ea 1setï¼ˆ17.5cm x 25cmï¼‰\nå°å¡ï¼š6ea 1setï¼ˆ5.5cm x 8.5cmï¼‰\nè²¼ç´™ï¼š2ea 1setï¼ˆ14cm x 20cmï¼‰\nMEMO PADï¼š1ç¨®ï¼ˆ9cm x 9cmï¼‰\nPVC CLEAR POUCHï¼š1ç¨®ï¼ˆ11.5cm x 8cmï¼‰\nIDç›¸ç‰‡ï¼š6ea 1setï¼ˆ3.5cm x 4.5cmï¼‰\nPOLAROIDï¼š6ea 1setï¼ˆ5.5cm x 8.5cmï¼‰\nç•™è¨€å¡ï¼š6ea 1setï¼ˆ15cm x 10cmï¼‰\nLENTICLAR CARDï¼š6ea 1setï¼ˆ7.5cm x 8cmï¼‰"
        },
        {
          id: 8,
          name: "TXT-2026 SEASON'S GREETINGS å¹´æ›†çµ„åˆ",
          image: "image/photo8.jpg",
          price: 770,
          description: "OUT BOXï¼š150mm x 200mm x 45mm\nå¯«çœŸæ›¸ï¼š96é ï¼ˆ140mm x 190mmï¼‰\nDIGITAL CODE SIZEï¼šç´„43åˆ†é˜ï¼ˆ60mm x 49mmï¼‰\nMETAL O-RINGï¼šï¼ˆ40mmï¼‰\nCHARM Aï¼šï¼ˆ20mm x 30mmï¼‰\nCHARM Bï¼šï¼ˆ22mm x 26mmï¼‰\nSILVER CHAINï¼š2ç¨®ï¼ˆ70mmï¼‰\nç•«è³ªï¼š[144P]ã€[270P]ã€[360P]ã€[480P]ã€[720P]ã€[1080P]\nèªè¨€ï¼š[éŸ“æ–‡]ã€[è‹±æ–‡]ã€[æ—¥èª]ã€[ä¸­æ–‡]\nPAPERï¼šï¼ˆ90mm x 40mmï¼‰\næ¡Œæ›†ï¼š14å€‹æœˆï¼ˆ190mm x 125mmï¼‰\næ—¥ç¨‹æœ¬ï¼š76é ï¼ˆ60mm x 190mmï¼‰\næ‘ºç–Šæµ·å ±ï¼š1ç¨®ï¼ˆ280mm x 190mmï¼‰\nå°å¡çµ„ï¼š1SET OF 10EAï¼ˆ55mm x 85mmï¼‰\nå°å¡å°å¥—ï¼š1ç¨®ï¼ˆ60mm x 90mmï¼‰\nè²¼ç´™ï¼š1ç¨®ï¼ˆ135mm x 185mmï¼‰\néŠæˆ²å¡BOXï¼š60mm x 90mm x 12mm\nPAPERï¼šï¼ˆ55mm x 85mmï¼‰\néŠæˆ²å¡ï¼š1SET OF 30EAï¼ˆ55mm x 85mmï¼‰\nIDç›¸ç‰‡å°å¥—ï¼š1ç¨®ï¼ˆ140mm x 190mmï¼‰\nIDç›¸ç‰‡ï¼š1SET OF 5EAï¼ˆ130mm x 180mmï¼‰\nç›¸ç‰‡çµ„ï¼š1SET OF 5EAï¼ˆ54mm x 86mmï¼‰"
        },
        {
          id: 9,
          name: "IZNA - 2026 SEASON'S GREETINGS å¹´æ›†çµ„åˆ",
          image: "image/photo9.jpg",
          price: 1540,
          description: "OUT BOXï¼šï¼ˆ200ï½ï½ x 260mm x 50mmï¼‰\næ¡Œæ›†ï¼š28é ï¼ˆ170ï½ï½ x 230mmï¼‰\næ‰‹å¸³æ—¥ç¨‹æœ¬ï¼š128é ï¼ˆ150ï½ï½ x 210mmï¼‰\næ‘ºç–Šæµ·å ±ï¼š1ç¨®ï¼ˆ480ï½ï½ x 370mmï¼‰\nè¿·ä½ æµ·å ±çµ„ï¼š6ç¨®/1çµ„ï¼ˆ175ï½ï½ x 240mmï¼‰\nè²¼ç´™çµ„ï¼š2ç¨®/1çµ„ï¼ˆ120ï½ï½ x 180mmï¼‰\næ›¸ç±¤ï¼š1ç¨®ï¼ˆ40ï½ï½ x 95mmï¼‰\nIDç›¸ç‰‡çµ„ï¼š6ç¨®/1çµ„ï¼ˆ35ï½ï½ x 45mmï¼‰\nFUR FRAME KEYRING ï¼š6ç¨®/1çµ„ï¼ˆ55ï½ï½ x 70mmï¼‰\næ˜ä¿¡ç‰‡çµ„ ï¼š6ç¨®/1çµ„ï¼ˆ100ï½ï½ x 150mmï¼‰\nè¿·ä½ Lå¤¾ï¼š1ç¨®ï¼ˆ65ï½ï½ x 95mmï¼‰\nå°å¡çµ„ ï¼š6ç¨®/1çµ„ï¼ˆ55ï½ï½ x 85mmï¼‰"
        },
        {
          id: 10,
          name: "KISS OF LIFE - 2026 SEASON'S GREETINGS å¹´æ›†çµ„åˆ",
          image: "image/photo10.jpg",
          price: 1325,
          description: "OUT BOXï¼š1EAï¼ˆ210mm x 310mm x 40mmï¼‰\næ¡Œæ›†ï¼š28é ï¼ˆ170mm x 230mmï¼‰\nå¯«çœŸæ›¸ï¼š68é ï¼ˆ195mm x 280mmï¼‰\nå°å¡ï¼š8EA 1SETï¼ˆ55mm x 85mmï¼‰\nFOLDING MESSAGE CARDï¼š1EAï¼ˆ176mm x 100mmï¼‰\nGAME CHARACTER CARD SETï¼šï¼ˆ4mm x 130mmï¼‰\nBOOKMARK SETï¼š4EA 1SETï¼ˆ40mm x 60mmï¼‰\nè²¼ç´™ï¼š4EA 1SETï¼ˆ40mm x 50mmï¼‰"
        },
        {
          id: 11,
          name: "NEWJEANS OFFICIAL LIGHT STICK å®˜æ–¹æ‡‰æ´æ‰‹ç‡ˆ",
          image: "image/photo11.jpg",
          price: 1820,
          description: "â­• ç‰¹å…¸å°å¡ï¼š5å¼µ (åªé™å–®è²·æ‰‹ç‡ˆ & æ‰‹ç‡ˆ+é›¶ä»¶çµ„) *å”®å®Œç‚ºæ­¢*\nâ­• æ‰‹ç‡ˆå¤–è§€ä»¥å¯¦éš›åˆ°è²¨ç‚ºæº–\nâ­• æ‰‹ç‡ˆåˆ°è²¨æœƒæŒ‰ç…§å…ˆå®šå…ˆå‡ºçš„é †åºå‡ºè²¨ï¼Œè¶Šæ—©ä¸‹å–®è¶Šæ—©å‡ºè²¨\nâ­• æ‰‹ç‡ˆä¸€å¾‹ä¸æä¾›é›»æ± "
        },
        {
          id: 12,
          name: "LE SSERAFIM OFFICIAL LIGHT STICK å®˜æ–¹æ‡‰æ´æ‰‹ç‡ˆ",
          image: "image/photo12.jpg",
          price: 1990,
          description: "ğŸ”»å®˜æ–¹ä¸¦æœªé™„è´ˆé›»æ± ï¼ˆéœ€AAAé›»æ± 3é¡†ï¼‰\nğŸ”»æ‰‹ç‡ˆå¦‚æœ‰éäººç‚ºç•°å¸¸å‰‡ç›´æ¥æ›´æ›æ–°å“ï¼ˆé–‹ç®±æª¢æ¸¬è«‹å…¨ç¨‹éŒ„å½±ä»¥ç¶­è­·æ‚¨çš„æ¬Šç›Šï¼‰\nğŸ”»åœ‹éš›é‹é€æ™‚å¤–ç›’å¯èƒ½æœƒæœ‰äº›å¾®å—æï¼Œç„¡æ³•æ¥å—è€…è«‹å‹¿è³¼è²·\nğŸ”»å¯„å‡ºéƒ½æœƒç”¨æ°£æ³¡ç´™ ç´™ç®±å¦¥å–„åŒ…è£\nğŸ”»åœ‹å¤–å•†å“è‹¥æœ‰çªç™¼ç‹€æ³ç„¡æ³•å‡ºè²¨æˆ–ä»£è³¼æ•¸é‡ä¸è¶³ï¼Œå°‡æœƒå¦è¡Œé€šçŸ¥ä¸¦ä¸»å‹•ç‚ºæ‚¨è™•ç†å–æ¶ˆè¨‚å–®ä¹‹å‹•ä½œ\nğŸ”»å…§å®¹ç‰©ä»¥å¯¦éš›å•†å“ç‚ºæº–"
        },
        {
          id: 13,
          name: "BTS OFFICIAL LIGHT STICK ç¬¬ä¸‰ä»£å®˜æ–¹æ‡‰æ´æ‰‹ç‡ˆ",
          image: "image/photo13.jpg",
          price: 2100,
          description: "â€»æ‰‹ç‡ˆä¸€å¾‹ä¸æä¾›é›»æ± \nâ€»å®˜æ–¹æœ‰ç‰¹åˆ¥æ¨™ç¤ºç‰¹å…¸å°å¡ï¼Œå› æè³ªå•é¡Œå¯èƒ½ç™¼ç”Ÿç´°å¾®åŠƒç—•çš†ç‚ºæ­£å¸¸ç¾è±¡\nâ€»éƒ¨åˆ†å¤–ç›’å¯èƒ½æœƒæœ‰äº›å¾®å—æï¼Œæˆ–å•†å“æœƒæœ‰é»‘é»‘çš„ã€åˆ®ç—•ã€é¡ä¼¼é«’æ±¡çš„å» æï¼Œä¸€å¾‹éƒ½éš¨æ©Ÿå‡ºè²¨ï¼Œèƒ½å¤ æ¥å—å†ä¸‹ï¼Œç„¡æ³•æ¥å—è€…è«‹å‹¿è³¼è²·ï¼ï¼"
        },
        {
          id: 14,
          name: "SEVENTEEN OFFICIAL LIGHT STICK ç¬¬ä¸‰ä»£å®˜æ–¹æ‡‰æ´æ‰‹ç‡ˆ",
          image: "image/photo14.jpg",
          price: 2180,
          description: "â—¾ï¸ æ‰‹ç‡ˆè·Ÿæ‰‹ç‡ˆè£é£¾æ˜¯åˆ†é–‹è²©å”®çš„\nâ—¾ï¸ æ‰‹ç‡ˆå®˜æ–¹æœ‰é™è³¼ï¼Œç­‰å¾…æ™‚é–“å°‡æœƒæ¯”è¼ƒé•·ï¼Œå¯ä»¥æ¥å—å†ä¸‹å–®\nâ—¾ï¸ è¨‚å–®æœƒæŒ‰ç…§è¨‚å–®é †åºå‡ºè²¨ï¼Œå…ˆå®šå…ˆå‡º"
        },
        {
          id: 15,
          name: "BLACKPINK OFFICIAL LIGHT STICK ç¬¬äºŒä»£å®˜æ–¹æ‡‰æ´æ‰‹ç‡ˆ",
          image: "image/photo15.jpg",
          price: 1980,
          description: "â€»æ‰‹ç‡ˆä¸€å¾‹ä¸æä¾›é›»æ± \nâ€»å®˜æ–¹æœ‰ç‰¹åˆ¥æ¨™ç¤ºç‰¹å…¸å°å¡ï¼Œå› æè³ªå•é¡Œå¯èƒ½ç™¼ç”Ÿç´°å¾®åŠƒç—•çš†ç‚ºæ­£å¸¸ç¾è±¡\nâ€»éƒ¨åˆ†å¤–ç›’å¯èƒ½æœƒæœ‰äº›å¾®å—æï¼Œæˆ–å•†å“æœƒæœ‰é»‘é»‘çš„ã€åˆ®ç—•ã€é¡ä¼¼é«’æ±¡çš„å» æï¼Œä¸€å¾‹éƒ½éš¨æ©Ÿå‡ºè²¨ï¼Œèƒ½å¤ æ¥å—å†ä¸‹å–®ï¼Œç„¡æ³•æ¥å—è€…è«‹å‹¿è³¼è²·ï¼ï¼"
        }

    ];

    const urlParams = new URLSearchParams(window.location.search);
    const productId = parseInt(urlParams.get("id"));
    const product = products.find(p => p.id === productId);
    const container = document.getElementById("productContainer");

    if (product) {
      container.innerHTML = `
        <div class="product-image">
          <img src="${product.image}" alt="${product.name}" />
        </div>
        <div class="product-info">
          <h1>${product.name}</h1>
          <p class="price">$${product.price}</p>
          <p class="description">${product.description.replace(/\n/g, "<br>")}</p>

          <div class="quantity-controller">
            <button id="decreaseBtn">-</button>
            <span id="quantityDisplay">1</span>
            <button id="increaseBtn">+</button>
          </div>

          <button class="add-to-cart-btn">åŠ å…¥è³¼ç‰©è»Š</button>
          <button id="wishlistBtn" class="wishlist-btn">
            <span id="wishlistIcon">â™¡</span> æ”¶è—å•†å“
          </button>  
          <a href="allproduct.html?category=å…¨éƒ¨å•†å“" class="back-btn">â† è¿”å›å•†å“ç¸½è¦½</a>

      `;
      let quantity = 1;
      const quantityDisplay = document.getElementById("quantityDisplay");
      document.getElementById("increaseBtn").addEventListener("click", () => {
        quantity++;
        quantityDisplay.textContent = quantity;
      });
      document.getElementById("decreaseBtn").addEventListener("click", () => {
        if (quantity > 1) {
          quantity--;
          quantityDisplay.textContent = quantity;
        }
      });

      document.querySelector(".add-to-cart-btn").addEventListener("click", () => {
        const cart = JSON.parse(localStorage.getItem("cart")) || [];
        const existing = cart.find(item => item.id === product.id);
        if (existing) {
          existing.quantity += quantity;
        } else {
          cart.push({
            id: product.id,
            name: product.name,
            price: product.price,
            image: product.image,
            quantity: quantity
          });
        }
        localStorage.setItem("cart", JSON.stringify(cart));
        alert("å·²åŠ å…¥è³¼ç‰©è»Šï¼");
      });

    } else {
      container.innerHTML = "<p>æ‰¾ä¸åˆ°è©²å•†å“è³‡æ–™ã€‚</p>";
    }
  </script>

<script>
const searchProducts = [
  { id: 6, name: "CORTIS 2026 å¹´æ›†", keywords: ["cortis","å¹´æ›†","å®˜æ–¹å°ˆè¼¯"] },
  { id: 7, name: "NMIXX 2026 å¹´æ›†", keywords: ["nmixx","å¹´æ›†"] },
  { id: 8, name: "TXT 2026 å¹´æ›†", keywords: ["txt","å¹´æ›†"] },
  { id: 9, name: "IZNA 2026 å¹´æ›†", keywords: ["izna","å¹´æ›†"] },
  { id: 10, name: "KISS OF LIFE 2026 å¹´æ›†", keywords: ["kiss","kiof","å¹´æ›†"] },
  { id: 14, name: "å®˜æ–¹å‘¨é‚Šå¥—çµ„", keywords: ["å‘¨é‚Š","é…ä»¶"] }
];

const input = document.getElementById("searchInput");
const resultBox = document.getElementById("searchResults");

input.addEventListener("input", function () {
  const keyword = input.value.toLowerCase().trim();
  resultBox.innerHTML = "";
  if (!keyword) {
    resultBox.style.display = "none";
    return;
  }

  const matches = searchProducts.filter(p =>
    p.name.toLowerCase().includes(keyword) ||
    p.keywords.some(k => k.includes(keyword))
  );

  if (matches.length === 0) {
    resultBox.innerHTML = `<div>æ‰¾ä¸åˆ°ç›¸é—œå•†å“</div>`;
  } else {
    matches.forEach(p => {
      const div = document.createElement("div");
      div.textContent = p.name;
      div.onclick = () => {
        window.location.href = `product.html?id=${p.id}`;
      };
      resultBox.appendChild(div);
    });
  }

  resultBox.style.display = "block";
});

document.addEventListener("click", function (e) {
  if (!e.target.closest(".search-wrapper")) {
    resultBox.style.display = "none";
  }
});
</script>

<script>
  // æ”¾åœ¨åŠ å…¥è³¼ç‰©è»Šçš„ç›£è½å™¨å¾Œé¢
const wishlistBtn = document.getElementById("wishlistBtn");
const wishlistIcon = document.getElementById("wishlistIcon");

// æª¢æŸ¥æ˜¯å¦å·²ç¶“æ”¶è—
let wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];
const isFavorited = wishlist.some(item => item.id === product.id);

if (isFavorited) {
    wishlistBtn.classList.add("active");
    wishlistIcon.textContent = "â™¥";
}

wishlistBtn.addEventListener("click", () => {
    let currentWishlist = JSON.parse(localStorage.getItem("wishlist")) || [];
    const index = currentWishlist.findIndex(item => item.id === product.id);

    if (index > -1) {
        // å–æ¶ˆæ”¶è—
        currentWishlist.splice(index, 1);
        wishlistBtn.classList.remove("active");
        wishlistIcon.textContent = "â™¡";
        alert("å·²å¾è¿½è¹¤æ¸…å–®ç§»é™¤");
    } else {
        // åŠ å…¥æ”¶è—
        currentWishlist.push({
            id: product.id,
            name: product.name,
            price: product.price,
            image: product.image
        });
        wishlistBtn.classList.add("active");
        wishlistIcon.textContent = "â™¥";
        alert("å·²åŠ å…¥è¿½è¹¤æ¸…å–®ï¼");
    }
    localStorage.setItem("wishlist", JSON.stringify(currentWishlist));
});
</script>

 <script>
     document.addEventListener('DOMContentLoaded', function() {
    renderProductReviews();
});

function renderProductReviews() {
    const reviewListContainer = document.getElementById('display-review-list');
    const avgScoreDisplay = document.getElementById('avg-score');
    const avgStarsDisplay = document.getElementById('avg-stars');
    const totalCountDisplay = document.getElementById('total-reviews-count');

    // 1. å¾ localStorage å–å¾—æ‰€æœ‰è©•è«– (èˆ‡ oldorders.html å­˜å„²çš„ key ä¸€è‡´)
    let allReviews = JSON.parse(localStorage.getItem('productReviews')) || [];
    
    // 2. ç¯©é¸å‡ºå±¬æ–¼ã€Œç›®å‰é€™å€‹å•†å“ã€çš„è©•è«– (æ¯”å°å•†å“åç¨±)
    // æ³¨æ„ï¼šproduct.name å¿…é ˆåœ¨æ¸²æŸ“ç¯„åœå…§å¯ç”¨
    const currentProductReviews = allReviews.filter(rev => rev.productName === product.name);

    if (currentProductReviews.length > 0) {
        // 3. è¨ˆç®—å¹³å‡åˆ†
        const totalScore = currentProductReviews.reduce((sum, rev) => sum + rev.star, 0);
        const avgScore = (totalScore / currentProductReviews.length).toFixed(1);
        
        // 4. æ›´æ–°é¡¯ç¤º
        avgScoreDisplay.textContent = avgScore;
        totalCountDisplay.textContent = `å…± ${currentProductReviews.length} å‰‡è©•è«–`;
        avgStarsDisplay.textContent = 'â­'.repeat(Math.round(avgScore));

        // 5. æ¸²æŸ“è©•è«–åˆ—è¡¨
        reviewListContainer.innerHTML = currentProductReviews.map(rev => `
            <div class="individual-review">
                <div class="review-header">
                    <span class="user-name">K-Chords æœƒå“¡</span>
                    <span class="review-date">${rev.date}</span>
                </div>
                <div class="review-stars">${'â˜…'.repeat(rev.star)}${'â˜†'.repeat(5 - rev.star)}</div>
                <p class="review-content">${rev.content}</p>
            </div>
        `).join('');
    } else {
        // ç„¡è©•è«–æ™‚çš„é è¨­å€¼
        avgScoreDisplay.textContent = "0.0";
        totalCountDisplay.textContent = "æš«ç„¡è©•è«–";
        avgStarsDisplay.textContent = "â˜†â˜†â˜†â˜†â˜†";
    }
}
</script>
  
    <footer class="site-footer">
     <div class="footer-box">

      <div class="footer-col">
      <h3>K-Chords | K-å’Œå¼¦</h3>
      <a href="https://www.instagram.com/uyhnz/" target="_blank">IG:K.Chords_official</a>
        å•†å“å•é¡Œä¹Ÿå¯ä»¥ä¾†é€™è£¡è©¢å•
      <a href="aboutus.html">é—œæ–¼æˆ‘å€‘</a>
      </div>

      <div class="footer-col">
      <h3>SERVICE</h3>
      <a href="afterservice.html">é€€æ›è²¨æœå‹™ After-sales service</a>
      <a href="qa.html">å¸¸è¦‹å•é¡Œ Q&A</a>
      </div>

      <div class="footer-col">
      <h3>COMPANY</h3>
      <a href="contact.html">è¯çµ¡æˆ‘å€‘</a>
      <a href="cooperate.html">åˆä½œæ´½è«‡</a>
      <a href="privacy.html">éš±ç§æ”¿ç­–</a>
      <a href="anti-fraud.html">åè©é¨™å…¬å‘Š</a>
      <p class="footer-time">å®¢æœæ™‚é–“ Mon.â€“Fri. 10:00â€“18:00 (ä¸å«ä¾‹å‡æ—¥)</p>
      </div>
      
     </div>
     <div class="footer-bottom">
        Â© 2026 K-Chords | K-å’Œå¼¦ All rights reserved.
     </div>
   </footer>

</body>
</html>
