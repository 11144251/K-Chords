<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>K-Chords | K-和弦</title>
  <link rel="stylesheet" href="css/loging.css" />
</head>
<body>
  <header>
    <div class="header-inner">
      <h1><a href="index.html">K-Chords | K-和弦</a></h1>
      <div class="nav-container">
        <div class="search-wrapper">
          <input type="text" id="searchInput" class="search-bar" placeholder="搜尋商品、團名、商品類型..." />
          <div id="searchResults" class="search-results"></div>
        </div>
        <nav>
          <ul>
            <li><a href="cart.html">購物車</a></li>
            <li><a href="loging.html">會員註冊/登入</a></li>
            <li><a href="member.html">會員資料</a></li>
          </ul>
        </nav>
      </div>
    </div>
  </header>

  <div class="container" id="form-container">
    <h2 id="form-title">登入</h2>
    <form id="login-form">
      <input type="text" placeholder="帳號" required />
      <input type="password" placeholder="密碼" required />
      <button type="submit">登入</button>
    </form>
    <form id="register-form" style="display: none;">
      <input type="text" placeholder="帳號" required />
      <input type="email" placeholder="電子郵件" required />
      <input type="password" placeholder="密碼" required />
      <button type="submit">註冊</button>
    </form>
    <div class="toggle">
      <span id="toggle-msg">還沒有帳號嗎？ <a href="#" onclick="toggleForm()">註冊</a></span>
    </div>
  </div>

  <div class="tagline">你的追星好夥伴</div>

<script>
  const loginForm = document.getElementById('login-form');
  const registerForm = document.getElementById('register-form');
  const formTitle = document.getElementById('form-title');
  const toggleMsg = document.getElementById('toggle-msg');

  // 表單切換
  function toggleForm() {
    if (loginForm.style.display === 'none') {
      loginForm.style.display = 'block';
      registerForm.style.display = 'none';
      formTitle.textContent = '登入';
      toggleMsg.innerHTML = '還沒有帳號嗎？ <a href="#" onclick="toggleForm()">註冊</a>';
    } else {
      loginForm.style.display = 'none';
      registerForm.style.display = 'block';
      formTitle.textContent = '註冊';
      toggleMsg.innerHTML = '已有帳號？ <a href="#" onclick="toggleForm()">登入</a>';
    }
  }

  // 處理登入送出 → 跳轉
  loginForm.addEventListener('submit', function (event) {
    event.preventDefault();
    window.location.href = 'index.html';
  });

  // 處理註冊送出 → 跳轉
  registerForm.addEventListener('submit', function (event) {
    event.preventDefault();
    window.location.href = 'index.html';
  });
</script>

<script>
  // 處理登入送出 → 儲存帳號並跳轉
loginForm.addEventListener('submit', function (event) {
  event.preventDefault();

  // 1. 取得使用者輸入的帳號 (假設帳號輸入框是第一個 input)
  const username = loginForm.querySelector('input[type="text"]').value;

  // 2. 將帳號存入 localStorage
  localStorage.setItem('loggedInUser', '使用者姓名或帳號');

  // 3. 跳轉頁面
  window.location.href = 'member.html';
});

// 處理註冊送出 (建議也同步登入)
registerForm.addEventListener('submit', function (event) {
  event.preventDefault();
  const username = registerForm.querySelector('input[type="text"]').value;
  localStorage.setItem('loggedInUser', username);
  window.location.href = 'member.html';
});
</script>

<script>
      const products = [
      { id: 6, name: "CORTIS 2026 年曆", keywords: ["cortis","年曆","官方專輯"] },
      { id: 7, name: "NMIXX 2026 年曆", keywords: ["nmixx","年曆"] },
      { id: 8, name: "TXT 2026 年曆", keywords: ["txt","年曆"] },
      { id: 9, name: "IZNA 2026 年曆", keywords: ["izna","年曆"] },
      { id: 10, name: "KISS OF LIFE 2026 年曆", keywords: ["kiss","kiof","年曆"] },
      { id: 14, name: "官方周邊套組", keywords: ["周邊","配件"] }
    ];

    const input = document.getElementById("searchInput");
    const resultBox = document.getElementById("searchResults");

    input.addEventListener("input", function () {
      const keyword = input.value.toLowerCase().trim();
      resultBox.innerHTML = "";
      if (!keyword) {
        resultBox.style.display = "none";
        return;
      }
      const matches = products.filter(p =>
        p.name.toLowerCase().includes(keyword) ||
        p.keywords.some(k => k.includes(keyword))
      );
      if (matches.length === 0) {
        resultBox.innerHTML = `<div>找不到相關商品</div>`;
      } else {
        matches.forEach(p => {
          const div = document.createElement("div");
          div.textContent = p.name;
          div.onclick = () => { window.location.href = `product.html?id=${p.id}`; };
          resultBox.appendChild(div);
        });
      }
      resultBox.style.display = "block";
    });

    document.addEventListener("click", function (e) {
      if (!e.target.closest(".search-wrapper")) {
        resultBox.style.display = "none";
      }
    });
</script>

<footer class="site-footer">
    <div class="footer-box">
      <div class="footer-col">
        <h3>K-Chords | K-和弦</h3>
        <a href="https://www.instagram.com/uyhnz/" target="_blank">IG:K.Chords_official</a>
        <p>商品問題也可以來這裡詢問</p>
        <a href="aboutus.html">關於我們</a>
      </div>
      <div class="footer-col">
        <h3>SERVICE</h3>
        <a href="afterservice.html">退換貨服務 After-sales service</a>
        <a href="qa.html">常見問題 Q&A</a>
      </div>
      <div class="footer-col">
        <h3>COMPANY</h3>
        <a href="contact.html">聯絡我們</a>
        <a href="cooperate.html">合作洽談</a>
        <a href="privacy.html">隱私政策</a>
        <a href="anti-fraud.html">反詐騙公告</a>
        <p class="footer-time">客服時間 Mon.–Fri. 10:00–18:00 (不含例假日)</p>
      </div>
    </div>
    <div class="footer-bottom">
      © 2026 K-Chords | K-和弦 All rights reserved.
    </div>
  </footer>

</body>
</html>

